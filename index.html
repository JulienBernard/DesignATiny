<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Design A Tiny - Design your own Tiny House from scratch!</title>

    <!-- Styles -->
    <link rel="stylesheet" href="http://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.min.css"/>
    <link rel="stylesheet" href="./dist/gridstack.css"/>
    <!-- Script -->
    <script src="./dist/jquery.min.js"></script>
    <script src="./dist/jquery-ui.js"></script>
    <script src="./dist/lodash.min.js"></script>
    <script src="./dist/gridstack.js"></script>
    <script src="./dist/gridstack.JQueryUI.js"></script>

    <style type="text/css">

        .container {
          padding-top: 12px;
          padding-bottom: 12px;
          background-position: bottom;
          background-image: url("./img/plan-tiny-test.jpg");
          background-repeat: no-repeat;
        }

        .grid-stack {
            /*background: lightgoldenrodyellow;*/
            /*min-height: 380px;
            height: 380px;
            max-height: 380px;*/
        }

        .grid-stack-item-content {
            color: #2c3e50;
            text-align: center;
            /*background-color: #18bc9c;*/
        }

        .grid-stack .grid-stack {
            /*margin: 0 -10px;*/
            /*background: rgba(255, 255, 255, 0.4);*/
            overflow:hidden;
        }

        .grid-stack .grid-stack .grid-stack-item-content {
            border: 2px dotted #666;
        }

        .grid-stack > .grid-stack-item > .grid-stack-item-content {
          /*left: 1px;
          right: 1px;*/
        }

        .grid-stack > .grid-stack-item[data-gs-width="5"] !important { width: 100% }
        .grid-stack > .grid-stack-item[data-gs-width="4"] !important { width: 80% }
        .grid-stack > .grid-stack-item[data-gs-width="3"] !important { width: 60% }
        .grid-stack > .grid-stack-item[data-gs-width="2"] !important { width: 40% }
        .grid-stack > .grid-stack-item[data-gs-width="1"] !important { width: 20% }

        .grid-stack > .grid-stack-item[data-gs-x="4"] !important { left: 80% }
        .grid-stack > .grid-stack-item[data-gs-x="3"] !important { left: 60% }
        .grid-stack > .grid-stack-item[data-gs-x="2"] !important { left: 40% }
        .grid-stack > .grid-stack-item[data-gs-x="1"] !important { left: 20% }

        /* Trash, drag */
        .grid-stack-item-removing {
            opacity: 0.5;
        }

        .trash {
            height: 140px;
            margin-bottom: 20px;
            background: rgba(255, 0, 0, 0.1) center center url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjY0cHgiIGhlaWdodD0iNjRweCIgdmlld0JveD0iMCAwIDQzOC41MjkgNDM4LjUyOSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDM4LjUyOSA0MzguNTI5OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTQxNy42ODksNzUuNjU0Yy0xLjcxMS0xLjcwOS0zLjkwMS0yLjU2OC02LjU2My0yLjU2OGgtODguMjI0TDMwMi45MTcsMjUuNDFjLTIuODU0LTcuMDQ0LTcuOTk0LTEzLjA0LTE1LjQxMy0xNy45ODkgICAgQzI4MC4wNzgsMi40NzMsMjcyLjU1NiwwLDI2NC45NDUsMGgtOTEuMzYzYy03LjYxMSwwLTE1LjEzMSwyLjQ3My0yMi41NTQsNy40MjFjLTcuNDI0LDQuOTQ5LTEyLjU2MywxMC45NDQtMTUuNDE5LDE3Ljk4OSAgICBsLTE5Ljk4NSw0Ny42NzZoLTg4LjIyYy0yLjY2NywwLTQuODUzLDAuODU5LTYuNTY3LDIuNTY4Yy0xLjcwOSwxLjcxMy0yLjU2OCwzLjkwMy0yLjU2OCw2LjU2N3YxOC4yNzQgICAgYzAsMi42NjQsMC44NTUsNC44NTQsMi41NjgsNi41NjRjMS43MTQsMS43MTIsMy45MDQsMi41NjgsNi41NjcsMi41NjhoMjcuNDA2djI3MS44YzAsMTUuODAzLDQuNDczLDI5LjI2NiwxMy40MTgsNDAuMzk4ICAgIGM4Ljk0NywxMS4xMzksMTkuNzAxLDE2LjcwMywzMi4yNjQsMTYuNzAzaDIzNy41NDJjMTIuNTY2LDAsMjMuMzE5LTUuNzU2LDMyLjI2NS0xNy4yNjhjOC45NDUtMTEuNTIsMTMuNDE1LTI1LjE3NCwxMy40MTUtNDAuOTcxICAgIFYxMDkuNjI3aDI3LjQxMWMyLjY2MiwwLDQuODUzLTAuODU2LDYuNTYzLTIuNTY4YzEuNzA4LTEuNzA5LDIuNTctMy45LDIuNTctNi41NjRWODIuMjIxICAgIEM0MjAuMjYsNzkuNTU3LDQxOS4zOTcsNzcuMzY3LDQxNy42ODksNzUuNjU0eiBNMTY5LjMwMSwzOS42NzhjMS4zMzEtMS43MTIsMi45NS0yLjc2Miw0Ljg1My0zLjE0aDkwLjUwNCAgICBjMS45MDMsMC4zODEsMy41MjUsMS40Myw0Ljg1NCwzLjE0bDEzLjcwOSwzMy40MDRIMTU1LjMxMUwxNjkuMzAxLDM5LjY3OHogTTM0Ny4xNzMsMzgwLjI5MWMwLDQuMTg2LTAuNjY0LDguMDQyLTEuOTk5LDExLjU2MSAgICBjLTEuMzM0LDMuNTE4LTIuNzE3LDYuMDg4LTQuMTQxLDcuNzA2Yy0xLjQzMSwxLjYyMi0yLjQyMywyLjQyNy0yLjk5OCwyLjQyN0gxMDAuNDkzYy0wLjU3MSwwLTEuNTY1LTAuODA1LTIuOTk2LTIuNDI3ICAgIGMtMS40MjktMS42MTgtMi44MS00LjE4OC00LjE0My03LjcwNmMtMS4zMzEtMy41MTktMS45OTctNy4zNzktMS45OTctMTEuNTYxVjEwOS42MjdoMjU1LjgxNVYzODAuMjkxeiIgZmlsbD0iI2ZmOWNhZSIvPgoJCTxwYXRoIGQ9Ik0xMzcuMDQsMzQ3LjE3MmgxOC4yNzFjMi42NjcsMCw0Ljg1OC0wLjg1NSw2LjU2Ny0yLjU2N2MxLjcwOS0xLjcxOCwyLjU2OC0zLjkwMSwyLjU2OC02LjU3VjE3My41ODEgICAgYzAtMi42NjMtMC44NTktNC44NTMtMi41NjgtNi41NjdjLTEuNzE0LTEuNzA5LTMuODk5LTIuNTY1LTYuNTY3LTIuNTY1SDEzNy4wNGMtMi42NjcsMC00Ljg1NCwwLjg1NS02LjU2NywyLjU2NSAgICBjLTEuNzExLDEuNzE0LTIuNTY4LDMuOTA0LTIuNTY4LDYuNTY3djE2NC40NTRjMCwyLjY2OSwwLjg1NCw0Ljg1MywyLjU2OCw2LjU3QzEzMi4xODYsMzQ2LjMxNiwxMzQuMzczLDM0Ny4xNzIsMTM3LjA0LDM0Ny4xNzJ6IiBmaWxsPSIjZmY5Y2FlIi8+CgkJPHBhdGggZD0iTTIxMC4xMjksMzQ3LjE3MmgxOC4yNzFjMi42NjYsMCw0Ljg1Ni0wLjg1NSw2LjU2NC0yLjU2N2MxLjcxOC0xLjcxOCwyLjU2OS0zLjkwMSwyLjU2OS02LjU3VjE3My41ODEgICAgYzAtMi42NjMtMC44NTItNC44NTMtMi41NjktNi41NjdjLTEuNzA4LTEuNzA5LTMuODk4LTIuNTY1LTYuNTY0LTIuNTY1aC0xOC4yNzFjLTIuNjY0LDAtNC44NTQsMC44NTUtNi41NjcsMi41NjUgICAgYy0xLjcxNCwxLjcxNC0yLjU2OCwzLjkwNC0yLjU2OCw2LjU2N3YxNjQuNDU0YzAsMi42NjksMC44NTQsNC44NTMsMi41NjgsNi41N0MyMDUuMjc0LDM0Ni4zMTYsMjA3LjQ2NSwzNDcuMTcyLDIxMC4xMjksMzQ3LjE3MnogICAgIiBmaWxsPSIjZmY5Y2FlIi8+CgkJPHBhdGggZD0iTTI4My4yMiwzNDcuMTcyaDE4LjI2OGMyLjY2OSwwLDQuODU5LTAuODU1LDYuNTctMi41NjdjMS43MTEtMS43MTgsMi41NjItMy45MDEsMi41NjItNi41N1YxNzMuNTgxICAgIGMwLTIuNjYzLTAuODUyLTQuODUzLTIuNTYyLTYuNTY3Yy0xLjcxMS0xLjcwOS0zLjkwMS0yLjU2NS02LjU3LTIuNTY1SDI4My4yMmMtMi42NywwLTQuODUzLDAuODU1LTYuNTcxLDIuNTY1ICAgIGMtMS43MTEsMS43MTQtMi41NjYsMy45MDQtMi41NjYsNi41Njd2MTY0LjQ1NGMwLDIuNjY5LDAuODU1LDQuODUzLDIuNTY2LDYuNTdDMjc4LjM2NywzNDYuMzE2LDI4MC41NSwzNDcuMTcyLDI4My4yMiwzNDcuMTcyeiIgZmlsbD0iI2ZmOWNhZSIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=) no-repeat;
        }

        .sidebar {
            background: rgba(0, 255, 0, 0.1);
            height: 140px;
            padding: 25px 0;
            text-align: center;
        }

        .sidebar .grid-stack-item {
            width: 200px;
            height: 100px;
            border: 2px dashed green;
            text-align: center;
            line-height: 100px;
            z-index: 10;
            background: rgba(0, 255, 0, 0.1);
            cursor: default;
            display: inline-block;
        }

        .sidebar .grid-stack-item .grid-stack-item-content {
            background: none;
        }

        .no-scrollbar {
          overflow: hidden !important;
        }
    </style>
  </head>
  <body>

    <div class="off-canvas-wrapper">
      <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

        <div class="off-canvas position-left reveal-for-large" id="my-info" data-off-canvas data-position="left">
          <div class="row column">
            <br>
            <img class="thumbnail" src="http://placehold.it/550x350">
            <h5>Mike Mikerson</h5>
            <p>Duis aliquet egestas purus in blandit. Curabitur vulputate, ligula lacinia scelerisque tempor, lacus lacus ornare ante, ac egestas est urna sit amet arcu. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed molestie augue sit amet leo.</p>
          </div>
        </div>

        <div class="off-canvas-content" data-off-canvas-content>
          <div class="title-bar hide-for-large">
            <div class="title-bar-left">
              <button class="menu-icon" type="button" data-open="my-info"></button>
              <span class="title-bar-title">Design A Tiny</span>
            </div>
          </div>
          <div class="callout primary">
            <div class="row column">
              <h1>Selectors</h1>
              <p class="lead" style="font-size: 1em;">List of elements (button "add a Bed" > add a card "Bed" to the grid)</p>
              <a class="button warning" id="add-widget-one" data-size="1" data-height="1" href="#">Add Widget (1x1)</a>
              <a class="button warning" id="add-widget-two" data-size="2" data-height="2" href="#">Add Widget (2x2)</a>
              <a class="button warning" id="add-widget-rdm" href="#">Add Widget (rdm)</a>
            </div>
          </div>

          <div class="row">
            <div class="medium-12 column container">
              <!-- GRID STACK -->
              <div class="grid-stack" id="container-grid-stack">
              <div class="grid-stack-item" data-gs-x="0" data-gs-y="0" data-gs-width="12" data-gs-height="9" data-gs-no-resize="true" data-gs-no-move="true">
              <div class="grid-stack-item-content no-scrollbar">
                <!-- Draggable items & trash HTML containers -->
                <div class="row">
                  <div class="large-8 columns">
                      <div class="sidebar">
                        <div class="grid-stack-item"><div class="grid-stack-item-content">Table</div></div>
                        <div class="grid-stack-item"><div class="grid-stack-item-content">Bed</div></div>
                      </div>
                  </div>
                  <div class="large-4 columns">
                      <div class="trash">
                      </div>
                  </div>
                </div>
                <!-- Nested grid-stack containers -->
                <div class="grid-stack" id="primary-grid-stack">
                  <!-- Init primary-grid by setting a hidden item -->
                  <div class="grid-stack-item" data-gs-width="12" data-gs-height="6" data-gs-no-resize="true" data-gs-no-move="true">
<!-- TODO better style--> <div class="grid-stack-item-content" style="border: none !important;"></div>
                  </div>
                </div>
              </div>
              </div>
              </div>
              <!-- END GRID STACK -->
            </div>
          </div>

          <hr>

          <div class="row">
            <div class="medium-12 column">
              <h3>Build with love <3</h3>
              <p>Foundation 6 - ATOM - Laragon - GridStack - Firefox</p>
              <ul class="menu">
                <li><a href="#">GitHub</a></li>
                <li><a href="#">Creative Commons</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="http://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.js"></script>
    <script>
      $(document).foundation();
    </script>

    <script type="text/javascript">
        $(function () {
            var primary_options = {
                float: true,
                removable: '.trash',
                removeTimeout: 100,
                acceptWidgets: '.grid-stack-item'
            };
            var container_options = {
                // DEPRECATED COMMENT - Needed to put container-grid-stack at the position 0:2 in order to see drag & trash <div> above it.
                float: false
            };
            $('#primary-grid-stack').gridstack(primary_options);
            $('#container-grid-stack').gridstack(container_options);

            new function () {
                this.items = [
                    {x: 0, y: 0, width: 2, height: 1},
                    {x: 2, y: 3, width: 3, height: 2},
                    {x: 2, y: 1, width: 2, height: 1}
                ];

                this.grid = $('#primary-grid-stack').data('gridstack');

                this.addNewWidgetOne = function () {
                    var widgetSize = $("#add-widget-one").attr('data-size');
                    var widgetHeight = $("#add-widget-one").attr('data-height');
                    var node = {
                                x: 0,
                                y: 0,
                                width: widgetSize,
                                height: widgetHeight,
                                auto_position: true
                            };
                    this.grid.addWidget($('<div><div class="grid-stack-item-content" /><div/>'),
                        node.x, node.y, node.width, node.height);
                    return false;
                }.bind(this);

                this.addNewWidgetTwo = function () {
                    var widgetSize = $("#add-widget-two").attr('data-size');
                    var widgetHeight = $("#add-widget-two").attr('data-height');
                    var node = {
                                x: 0,
                                y: 0,
                                width: widgetSize,
                                height: widgetHeight
                            };
                    this.grid.addWidget($('<div><div class="grid-stack-item-content" /><div/>'),
                        node.x, node.y, node.width, node.height);
                    return false;
                }.bind(this);

                this.addNewWidgetRandom = function () {
                    var node = this.items.pop();
                    this.grid.addWidget($('<div><div class="grid-stack-item-content" /><div/>'),
                        node.x, node.y, node.width, node.height);
                    return false;
                }.bind(this);

                $('.sidebar .grid-stack-item').draggable({
                  revert: 'invalid',
                  handle: '.grid-stack-item-content',
                  scroll: false,
                  appendTo: 'body'
                });

                $('#add-widget-one').click(this.addNewWidgetOne);
                $('#add-widget-two').click(this.addNewWidgetTwo);
                $('#add-widget-rdm').click(this.addNewWidgetRandom);
            };
        });
    </script>
  </body>
</html>
